<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Main</title>
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous"> 
    <link rel="stylesheet" href="styleIncome.css">
    <script src="https://kit.fontawesome.com/350444c53b.js" crossorigin="anonymous"></script>
    <link href='https://fonts.googleapis.com/css?family=Josefin Sans' rel='stylesheet'>
</head>
<body style="background:url(Images/cardano-blockchain-platform-collage.jpg); background-size: cover; background-attachment: fixed;">

<!-- =============================== HEADER =================================== -->    
    <nav class="navbar navbar-expand-lg bg-body-tertiary">
        <div class="container-fluid mx-5">
            <a id="logo" class="navbar-brand" href="#">
                <img src="Images/pngegg.png" />
            </a>

            <!-- Hasil JS -->
            <div id="namaOutput"></div>

            <button class="navbar-toggler text-end" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse fs-5" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item text-dark">
                        <a class="nav-link" href="Main.html">Main</a>
                    </li>
                    <li class="nav-item text-dark">
                        <a class="nav-link active" aria-current="page" href="#">Income</a>
                    </li>
                    <li class="nav-item text-dark">
                        <a class="nav-link" href="Outcome.html">Outcome</a>
                    </li>
                    <li class="nav-item text-dark me-3">
                        <a class="nav-link" href="AboutUs.html">About Us</a>
                    </li>
                    <li class="nav-item text-center" style="width: 90px;">
                        <a class="nav-link bg-dark text-white rounded-5" href="#">
                            <i class="fa-regular fa-user"></i>
                        </a>
                    </li>
                </ul>
            </div>                
        </div>
    </nav>

<!-- =============================== ISI =================================== -->
    <div class="container">
        <div class="island mt-5 mx-auto text-white p-5 rounded-3 img-fluid">

            <div id="namaIncome"></div>

            <div class="input">
                    <div class="namaTransaksi mb-3">
                        <h4>Transaction Name</h4>
                        <input type="text" id="namaIncomeInput" class="form-control" placeholder="Your Name..." required> 
                    </div>
                    <div class="nominalTransaksi mb-3">
                        <h4>Transaction Nominal</h4>
                        <div class="input-group mb-3">
                            <span class="input-group-text">Rp.</span>
                            <input type="number" id="duidIncomeInput" class="form-control" placeholder="Amount..." required>
                          </div>
                    </div>
                    <div class="tipeTransaksi mb-3">
                        <h4>Transaction Type</h4>
                        <div class="input-group mb-3">
                            <select id="tipeTransaksiIncome" class="form-select" id="inputGroupSelect01">
                              <option selected value="">Choose...</option>
                              <option value="Makan">Makan</option>
                              <option value="Main">Main</option>
                              <option value="Edukasi">Edukasi</option>
                              <option value="Belanja">Belanja</option>
                              <option value="Lainnya">Lainnya...</option>
                            </select>
                          </div>
                    </div>

                    <div class="kumpul text-center">
                        <button type="submit" id="tombolSendIncome" class="btn btn-danger rounded-5 img-fluid" style="width: 100px;">Submit</button>
                    </div>

            </div>
        </div>
    </div>

<!-- =============================== Alert =================================== -->  
<div class="iniAlert"></div>
<!-- =============================== FOOTER =================================== -->   
<div>    
    <div class="wave position-relative">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1440 320"><path fill="#f8f9fa" fill-opacity="1" d="M0,128L60,138.7C120,149,240,171,360,154.7C480,139,600,85,720,69.3C840,53,960,75,1080,80C1200,85,1320,75,1380,69.3L1440,64L1440,320L1380,320C1320,320,1200,320,1080,320C960,320,840,320,720,320C600,320,480,320,360,320C240,320,120,320,60,320L0,320Z"></path></svg>
    </div>

    <div class="bawah position-absolute bg-body-tertiary">
            <div class="data mx-5 row">
                <div id="kiri" class="img-fluid m-5 col-md-6">
                    <img src="Images/pngegg.png" class="mb-2">
                    <p class="text-dark">Money Tracker (MT) adalah sebuah website yang digunakan untuk menghitung pendapatan serta pengeluaran yang membantu pengguna dalam mengelola keuangan pribadi mereka dengan lebih efektif.</p>
                    <a href="#"><i class="fa-brands fa-instagram"></i></a>
                    <a href="#"><i class="fa-brands fa-github"></i></a>
                </div>
                <div class="kosong col-md-1"></div>
                <div id="kanan" class=" m-5 img-fluid col-md-3">
                    <h5 class="mb-2">Quick Links</h5>
                    <div class="mb-1">
                        <a href="Main.html" class="text-dark">Main</a>
                    </div>
                    <div class="mb-1">
                        <a href="Income.html" class="text-dark">Income</a>
                    </div>
                    <div class="mb-1">
                        <a href="Outcome.html" class="text-dark">Outcome</a>
                    </div>
                </div>   
            </div>
        <p class="text-center">Copyright &copy 2024 | All rights reserved</p>
    </div>
</div>


    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>

    <script>
        var username = localStorage.getItem("username");

        if (username) {
            $("#namaOutput").append("<div class='m-3'><p>Hello, " + username + "!</p></div>");
            $("#namaIncome").append("<div class='text-center mb-5'><h4>" + username + "'s Income</h4></div>");
        }


        // toast alert input
        $("#tombolSendIncome").click(function () {
            var namaIncomeInput = $("#namaIncomeInput").val();
            var duidIncomeInput = $("#duidIncomeInput").val();
            var tipeTransaksiIncome = $("#tipeTransaksiIncome").val();
            
            if (namaIncomeInput !== "" && duidIncomeInput !== "" && tipeTransaksiIncome !== "") {
                createToast("bener", "fa-circle-check", "Success", "The transaction was successful!");
                var namaIn = $("#namaIncomeInput").val();
                var duidIn = $("#duidIncomeInput").val();
                var tipeIn = $("#tipeTransaksiIncome").val();
                
                var timestamp = Date.now();

                var transactionIn = {
                    namaIncome: namaIn,
                    duidIncome: duidIn,
                    tipeIncome: tipeIn,
                    timestamp: timestamp
                };
                
                localStorage.setItem("transactionIn_" + timestamp, JSON.stringify(transactionIn));
                
                updateDataTransaksi(transactionIn);
            } else {
                createToast("gagal", "fa-triangle-exclamation", "Warning", "Fill in the empty boxes!");
            }
        });

        function createToast(tipe, logo, judul, desc){
            var coba = $(".iniAlert");
            coba.empty();

            var toast = $("<div class='isiAlert position-relative p-3 mb-3 d-flex justify-content-between " + tipe + "'>" +
                "<i id='iniLogo' class='my-auto fa-solid justify-content-center " + logo + "'></i>" +
                "<div class='isi'>" +
                "<div class='judul'>" + judul +"</div>" +
                "<span class='text-dark opacity-75'>" + desc +"</span>" +
                "</div>" +
                "<i id='tombolX' class='fa-solid fa-xmark text-dark opacity-75 close'></i>" +
                "</div>");

            coba.append(toast);

            setTimeout(function(){
                toast.remove();
            }, 2000);
        }


        $(".iniAlert").on('click', '.close', function () {
            $(this).closest('.isiAlert').remove();
        });



    </script>
</body>
</html>